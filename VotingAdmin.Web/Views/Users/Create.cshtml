@using VotingAdmin.Web.Dtos.Users.UserDetails;
@model UserDetails
@*<form id="form" method="post" asp-action="Create" asp-controller="Users" onsubmit="if(validate())return PopUPAjaxPost2(this);" autocomplete="off">*@
<form id="formCreateUser" method="post" asp-action="Create" asp-controller="Users" autocomplete="off">
    <ul>
        @if (ViewBag.Error is not null)
        {
            @foreach (var error in ViewBag.Error)
            {
                <li class="text-danger">@error</li>
            }
        }
    </ul>
    <div class="row">
        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Full Name <span style="color:firebrick">*</span></label>
            <input asp-for="FullName" type="text" class="form-control">
            <span asp-validation-for="FullName" class="text-danger"></span>
        </div>

        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Profile Image</label>
            <input asp-for="ProfileImage" type="file" class="form-control">
        </div>
        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">User Name <span style="color:firebrick">*</span></label>
            <input asp-for="UserName" value="" autocomplete="UserName" type="text" class="form-control">
            <span asp-validation-for="UserName" class="text-danger"></span>
        </div>
        @*<div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Gender <span style="color:firebrick">*</span></label>
            <br>
            @foreach (var lists in (SelectList)ViewBag.Gender)
            {
                <div class="form-group d-inline">
                    <span class="nowrap">
                        @Html.RadioButtonFor(m => m.Gender, lists.Value, new { id = "Gender" + lists.Value, name = "Lists", @value = lists.Value, @text = lists.Text })
                        <label for="list@(lists.Value)">@lists.Text</label>
                    </span>
                </div>
            }
            <br>
            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>*@
        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Gender <span style="color:firebrick">*</span></label>
            <br>
            @foreach (var gender in ViewBag.Gender)
            {
                <label>
                    @Html.RadioButton("gender", gender.Value, gender.Value == "1", new { id = gender.Value }) @gender.Text
                </label>
            }

            <br>
            <span asp-validation-for="Gender" class="text-danger"></span>
        </div>
        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">DOB</label>
            <input asp-for="DateOfBirth" max="@DateTime.Now.ToString("yyyy-MM-dd")" onkeydown="return false" type="date" class="form-control">
        </div>
        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Email <span style="color:firebrick">*</span></label>
            <input asp-for="Email" type="email" class="form-control">
            <span asp-validation-for="Email" class="text-danger"></span>
        </div>
        <div class="col-sm-6 mb-3 ">
            <label for="exampleInputEmail1">Phone Number</label>
            <div class="input-group">
                <div class="input-group-append">
                    
                    <select class="form-select form-control" aria-label="form-select-lg example" disabled><option>+977</option></select>
                </div>
                <input asp-for="Mobile" type="tel" onkeypress="return isNumber(event)" class="form-control">
                
            </div>          
            <span asp-validation-for="Mobile" class="text-danger"></span>
        </div>
        @*<div class="col-sm-6 mb-3 ">
            <label for="exampleInputEmail1">Phone Number</label>   
            <div class="input-group">
                <input asp-for="Mobile"  type="tel" id="phone" onkeypress="return isNumber(event)" class="form-control">
            </div>
            <span asp-validation-for="Mobile" class="text-danger"></span>
        </div>*@

        <div class="col-sm-6 mb-3">
            <label for="exampleInputEmail1">Joining Date</label>
            <input asp-for="DateOfJoining" max="@DateTime.Now.ToString("yyyy-MM-dd")" value="@DateTime.Now.ToString("yyyy-MM-dd")" onkeydown="return false" type="date" class="form-control">
        </div>


        <div class="col-sm-12 mb-3">
            <label for="exampleInputEmail1">Address</label>
            <textarea asp-for="Address" class="form-control" id="exampleFormControlTextarea1" rows="1"></textarea>
        </div>
    </div>
    <h5 class="mt-5">Password</h5>
    <hr>
    <div class="row">
        <div class="col-sm-6 mb-3">
            <label for="password">Password<span style="color:firebrick">*</span></label>
            <input asp-for="Password" type="password" class="form-control">
            <span asp-validation-for="Password" class="text-danger"></span>
        </div>
        <div class="col-sm-6 mb-3">
            <label for="password">Confirm Password<span style="color:firebrick">*</span></label>
            <input asp-for="ConfirmPassword" type="password" class="form-control">
            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
        </div>

    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-light" data-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-sm btn-primary">Add User</button>
    </div>
</form>




<script>
    FormHandler.init({
        method: 'POST',
        actionUrl: '@Url.Action("Create", "Users")',
        containerSelector: '#add-new .modal-body',
        selector: '#formCreateUser'
    }, function () {
        $("#add-new .modal-body").html("");
        $("#add-new .modal-title").html("");
        $("#add-new").modal('hide');
        //new PNotify({
        //      // title: 'Success ',
        //      text:'User Created Successfully',
        //      type: 'success',
        //      animation: {
        //          effect_in: 'fade',
        //          effect_out: 'slide'
        //      }

        //  });
        Pagination.getData();
    });
</script>
@*<partial name="_ValidationScriptsPartial" />*@